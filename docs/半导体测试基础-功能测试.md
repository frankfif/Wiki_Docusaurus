---
id: 半导体测试基础-功能测试
title: 半导体测试基础 - 功能测试 🚧
---

功能测试（Functional Test）是运用测试矢量来进行的一种测试，相比 DC 测试而言，输入输出变量的耦合性更高。

## 基本概念

### 测试矢量（Test Vectors）

测试矢量也称测试模式（Test Pattern），可以理解为器件被设计的逻辑功能的输入输出的真值表。在功能测试阶段时，将测试矢量输入 DUT，并提供预测的结果，如果实际的结果跟预测的结果不符合即为失败。Test Vectors 强调时序，一般是一系列输入输出的组合。



---


### 固定型故障（Stuck-At Fault）

固定型故障（SAF）指的是信号引脚由于制造缺陷（defect），被固定在了 0/1/Z 电平的状态，从而造成了故障。

## 总功能测试

## 各种参数的功能测试

### OS 测试（功能测试法）

用功能测试法测开路 / 短路，比静态法更快、更省成本。首先要先明确测试的每个周期长度（如下面的例子采用 1ms 的测试周期），再确定选通检测窗口（Stobe Window）的时间节点和时长。VDD 管测试的示意图如下所示：

![](https://cos.wiki-power.com/img/20220802192823.png)

测试流程如下：

1. 将所有电源引脚接地，所有信号引脚定义为输入模式，并且将它们赋 VIL 的值（0V）。
2. 将第一个待测的引脚设置为输出模式，关断此引脚（高阻 Z）。
3. 动态地加负载电流（+400µA@3V），使 VDD 保护二极管发生正偏。
4. 测量保护二极管电压，与标称值对比得出结果。
5. 让此引脚恢复测试前的状态。接着下一个引脚执行测试，直到得出所有引脚的测试结果。

本测试的矢量模式示例如下：

```
00000   /* cycle 1 将所有引脚接地 */
Z0000   /* cycle 2 测试第 1 个引脚的保护二极管 */
0Z000   /* cycle 3 测试第 2 个引脚的保护二极管 */
00Z00   /* cycle 4 测试第 3 个引脚的保护二极管 */
000Z0   /* cycle 5 测试第 4 个引脚的保护二极管 */
0000Z   /* cycle 6 测试第 5 个引脚的保护二极管 */
/* 下一个周期将会被单独执行 */
ZZZZZ   /* cycle 7 关断所有引脚并测试它们 */
```

当待测引脚关断（高阻 Z），且动态电流开始将引脚往 3V（VREF）拉时，如果保护二极管正常，那么它将在电压达到 0.65V 时发生正偏，且在加到设定电流值时维持钳位保护。如果二极管短路，则将检测到 0V 的电压；如果开路，则会检测到上限值 3V（VREF）。一个正常引脚变化是这样的：

![](https://cos.wiki-power.com/img/20220803011219.png)

需要注意的是，选通窗口设置在 0.9µs，持续时长 0.01µs，这是为留足时间让电压上升到稳定，保证测试结果可靠。

一旦测试完 VDD 保护二极管，就可以继续测 VSS 保护二极管了。接下来可以只测是否开路，不用测是否短路了（如果 VSS 管有短路的情况，必然也过不了上面 VDD 管测试）。VSS 管测试的示意图如下：

![](https://cos.wiki-power.com/img/20220803012747.png)

对于 VSS 管的矢量程序测试，只需要执行之前的第 7 个周期，即 `ZZZZZ`，对所有引脚的 VSS 管并行测开路。

### VIL/VIH 测试（功能测试法）

VIL 表示输入低电平逻辑最差的情况；VIH 表示输入高电平逻辑最差的情况。测试这两个值的目的是验证输入 Buffer 能正确检测高低电平。下例是 256 x 4 静态 RAM 的 VIH 和 VIL 参数：

| Parameter | Description        | Min | Max | Unit |
| --------- | ------------------ | --- | --- | ---- |
| VIH       | Input HIGH Voltage | 2.0 |     | V    |
| VIH       | Input LOW Voltage  |     | 0.8 | V    |

对 TTL 逻辑，一般 VIL 为 0.8V，VIH 为 2.0V；对 CMOS 逻辑，VIL 是 0.3\*VDD，VIH 是 0.7\*VDD。对 VIL 和 VIH 的测试，需要在 VDDmin 和 VDDmax 下分别进行。

用功能测试法测 VIL/VIH 的示意图如下：

![](https://cos.wiki-power.com/img/20220803202212.png)

用功能测试法测 VIL/VIH 的流程是：

1. 给 DUT 提供 VDDmax 供电。
2. 按照标称值给引脚输入电平。
3. 让其余的参数满足，执行功能测试。
4. 监控输出引脚的信号。
5. 如果在超出设定阈值即视为测试不通过。
6. 给 DUT 提供 VDDmin 供电，并重复以上的流程。

如果遇到测试不通过的情况，如果不能定位到错误所在，可以先通过给最优参数，排除因其他因素导致的问题。先给 VIL 最优低电平（0V），给 VIH 最优高电平（VDD），看看是否能按流程通过测试，随后再逐步赋 VIH/VIL 原始值以排除问题。

### VOL/IOL & VOL/IOH 测试（功能测试法）

VOL 表示引脚输出低电平时的电压最高值；VOH 表示引脚输出高电平时的电压最低值；IOL 表示输出低电平时灌电流的驱动能力；IOH 表示输出高电平时拉电流的驱动能力。此测试是为了验证输出 Buffer 保持正确电压下（VOL/VOH）时，电流驱动的能力。（IOL/IOH）。下例是 256 x 4 静态 RAM 的 VOL 和 VOH 参数：

| Parameter | Description         | Test Conditions           | Min | Max | Units |
| --------- | ------------------- | ------------------------- | --- | --- | ----- |
| VOL       | Output LOW Voltage  | VDD = 4.75V, IOL = 8.0mA  |     | 0.4 | V     |
| VOH       | Output HIGH Voltage | VDD = 4.75V, IOL = -5.2mA | 2.4 |     | V     |

测试示意图如下：

![](https://cos.wiki-power.com/img/20220805151754.png)

测试流程如下：

1. 为每个输出引脚设置可编程负载电流（动态负载或阻性负载）。
2. 在不超出 VOL/VOH 的条件下，记录其灌 / 拉电流的能力，对比是否符合要求。

### Z 态高阻测试（功能测试法）

当引脚有双向 / 三态输出的功能，且处于非输出状态时，输出 Buffer 必须处于高阻状态。Z 态（Z-State）高阻测试就是用于 **检测输出引脚能否正确设为高阻状态**。

测试示意图如下：

![](https://cos.wiki-power.com/img/20220805153515.png)

测试流程如下：

1. 给 DUT 供电 VDD，设置比较器的值为 VOL/VOH。
2. 施加动态负载电流（VOL~VOH），观察在引脚实际输出电流，如果不在 IOZ 标称范围内则为不通过。

## 参考与致谢

- 《The Fundamentals Of Digital Semiconductor Testing》
- 《DC Test Theory》

> 本篇文章受 [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by/4.0/deed.zh) 协议保护，转载请注明出处。
